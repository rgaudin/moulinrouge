<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr" lang="fr">
<head>
<title> Résultats de la recherche pour &laquo;[[[TITLE]]]&raquo; </title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rel="icon" href="moulin.png" type="image/png" />
<style type="text/css" media="screen">
@import/**/"chrome://moulin/locale/docroot/layout.css";
@import/**/"chrome://moulin/locale/typography2.css";
</style>
<link rel="stylesheet" href="chrome://moulin/locale/docrootprint.css" type="text/css" media="print"  />
<script type="text/javascript" src="chrome://moulin/locale/docroot/main.js"></script>
<script type="text/javascript">
var NB_RESULTS = [[[NBRESULTS]]];
var LIMIT_S = [[[LIMIT_S]]];
var LIMIT_N = [[[LIMIT_N]]];
var PROJECT = "[[[PROJECT]]]";
var CURRENT_PROJECT = "[[[CURRENT_PROJECT]]]";
var LANG = "[[[LANG]]]";
var SEARCHQUERRY = "[[[SEARCHQUERY]]]";
var selectedId = null;

function displayProject (id) {
	var d, dest, d2, dest2;
	d = document.getElementById(id);
	dest = document.getElementById('displayed_content');
	dest.innerHTML = d.innerHTML;
	
	// nav links
	d2 = document.getElementById(id+'_nav');
	dest2 = document.getElementById('displayed_nav');
	dest2.innerHTML = d2.innerHTML;
	dest2.className = 'search-nav';
	
	switchSelected (id);
}

function switchSelected (id) {
	var d;
	if (selectedId != null) {
		d = document.getElementById(selectedId+'_header');
		d.className = d.className.replace('selected', 'unselected');
	}
	d = document.getElementById(id+'_header');
	d.className = d.className.replace('unselected', 'selected');
	selectedId = id;
}

function displayLinks (id, project, nb_results)
{
	d = document.getElementById(id);
	str = "";
	var nbl = nb_results / LIMIT_N;
	var LIMIT_SS = (project == CURRENT_PROJECT) ? LIMIT_S : 0;
	if (nbl > 1) {
		nbm = (nbl >= 10) ? 10 : nbl;
		str += "<li><a>Accèder aux pages :</a></li>"
		for (var i=0;i<nbm;i++) {
			if ((LIMIT_N*i) == LIMIT_SS) { // current page
				str += "<li class=\"n-search-sel\"><a href=\"moulin-search://"+(LIMIT_N * i)+":"+LIMIT_N+"@"+project+"/"+LANG+"/[[[SEARCHQUERY]]]\">"+(i +1)+"</a></li>";
			} else
				str += "<li class=\"n-search\"><a href=\"moulin-search://"+(LIMIT_N * i)+":"+LIMIT_N+"@"+project+"/"+LANG+"/[[[SEARCHQUERY]]]\">"+(i +1)+"</a></li>";
		}
	}
	d.innerHTML = str;
}
</script>
</head>

<body id="search-result">

<div id="wrapper">

<div id="header">

<h1>Wikimédia par moulin</h1>

<div id="logo">
<a href="chrome://moulin/locale/docroot/home.html" title="return to the homepage"><img src="chrome://moulin/locale/docroot/imgs/wikimediabymoulin.png" alt="moulin - la wikipédia offline" /></a>
</div>

<ul id="nav" class="clear">
	<li class="n-home"><a href="chrome://moulin/locale/docroot/home.html">Accueil</a></li>
	<li class="n-wikipedia"><a href="chrome://moulin/locale/docroot/wikipedia.html">Wikipédia</a></li>
	<li class="n-autres"><a href="chrome://moulin/locale/docroot/autres.html">Autres projets</a></li>
	<li class="n-credits"><a href="chrome://moulin/locale/docroot/credits.html">Crédits</a></li>
	<li class="n-help"><a href="chrome://moulin/locale/docroot/help.html">Aide</a></li>
</ul>

</div>

<div id="test"></div>
<div id="search">

<h2>Recherchez !</h2>
<p>Pour acceder au contenu, entrez un mot-clé, choisissez un domaine et validez...
<input type="text" id="search-query" value="" maxlength="512" /><input type="hidden" id="lang" value="fa" />
<select id="project">
<option value="encyclopedia">Wikipédia</option>
<option value="quote">Wikiquote</option>
<option value="books">Wikibooks</option>
<option value="source">Wikisource</option>
</select>
<input type="button" id="search-go" value="Rechercher !" onclick="search();"></p>
</div>

<div id="content">

<h2>Votre recherche &laquo;[[[SEARCHQUERY]]]&raquo; a renvoyée [[[NBRESULTS]]] résultat(s) :</h2>
</div>
